{"version":3,"sources":["src/helpers.ts","src/animatedLink.ts","projects/index.ts"],"names":[],"mappings":"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","file":"projects.c07bc060.js","sourceRoot":"..","sourcesContent":["export const render = (callback, start?, frame?) => {\n\tif (!start) {\n\t\tstart = Date.now()\n\t}\n\n\tif (!frame) {\n\t\tframe = 0\n\t}\n\n\tif (callback(Date.now() - start, ++frame)) {\n\t\trequestAnimationFrame(() => render(callback, start, frame))\n\t}\n};\n\nexport const pick = (source, keys: string[]) =>\n\tkeys.reduce(\n\t\t(obj, key) => ({\n\t\t\t...obj,\n\t\t\t[key]: source[key],\n\t\t}),\n\t\t{}\n\t);\n\nexport const calcAge = (birthday) => new Date(Date.now() - birthday).getUTCFullYear() - 1970;\n\nexport const debounce = (callback: () => void, delay?: number, timer?: number) => (...args) => {\n\tclearTimeout(timer);\n\ttimer = setTimeout(() => callback(...args), delay || 100);\n};\n\nconst events = {};\n\nexport const on = (event, callback) => {\n\tevents[event] = [...(events[event] || []), callback]\n};\n\nexport const emit = (event, payload) => {\n\tevents[event]?.forEach((callback) => callback(payload))\n};\n","import { render, pick } from './helpers'\n\nconst STEP = 80;\n\nexport const animatedLink = (link, gurgle?) => {\n\tconst canvas = document.querySelector('#canvas') as HTMLElement;\n\tconst rects = link.getClientRects()[0];\n\tconst el = document.createElement('div');\n\n\tcanvas.appendChild(el);\n\n\tif (gurgle) {\n\t\tlocalStorage.setItem('link', Date.now());\n\t\tdocument.location = link.href;\n\t}\n\n\tel.classList.add(gurgle ? 'link-cover-second' : 'link-cover');\n\tsetTimeout(() => {\n\t\tel.remove();\n\t}, 2000);\n\tObject.entries(pick(rects, ['left', 'top', 'width', 'height']))\n\t\t.forEach(\n\t\t\t([key, value]) => (el.style[key] = `${Math.ceil(Number(key === 'top' ? value + canvas.scrollTop : value))}px`)\n\t\t);\n\tconst margins = [screen.height, screen.width];\n\tconst margin = Math.max(...margins);\n\tconst stepWidth = STEP;\n\tconst steps = Math.ceil(margin / stepWidth);\n\tconst sleep = 1;\n\tconst width = el.style.width;\n\tconst height = el.style.height;\n\n\tlet step = 0;\n\tlet prev = 0;\n\tlet counter = 0;\n\n\trender((time, _step) => {\n\t\tif (prev === 0) {\n\t\t\tprev = time;\n\t\t}\n\n\t\tcounter += time - prev;\n\n\t\tif (counter > sleep) {\n\t\t\tcounter = 0;\n\t\t\tstep += 1;\n\t\t}\n\n\t\tconst padding = step * stepWidth;\n\n\t\tel.style.transform = `translate(-${padding}px, -${padding}px)`;\n\t\tel.style.width = `${parseInt(width) + padding * 2}px`;\n\t\tel.style.height = `${parseInt(height) + padding * 2}px`;\n\n\t\tif (step >= steps - 1) {\n\t\t\tif (!gurgle) {\n\t\t\t\tanimatedLink(link, true);\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t});\n};\n","import { render } from '../src/helpers'\nimport { animatedLink } from '../src/animatedLink'\n\nconst parse = (text) => {\n\treturn text\n\t\t.replace(/([^\\s]+\\.[^\\s]+)/g, url => `<a href=\"https://${url}\" target=\"_blank\">â†— ${url.split('/').pop().replace('www.', '')}</a>`);\n};\n\nconst projectsMain = () => {\n\tconst timeline = document.querySelector('#timeline') as HTMLElement;\n\tconst list = timeline.innerText\n\t\t.replace('{{YEAR}}', String(new Date().getFullYear()))\n\t\t.split('\\n')\n\t\t.filter(Boolean)\n\t\t.map((line) => line.trim())\n\t\t.map((line) => {\n\t\t\tconst el = document.createElement('div')\n\t\t\tswitch (line[0]) {\n\t\t\t\tcase '+':\n\t\t\t\t\tel.classList.add('item-year');\n\t\t\t\t\tel.innerText = line.slice(2);\n\n\t\t\t\t\treturn el;\n\t\t\t\tcase '-':\n\t\t\t\t\tel.classList.add('item-header');\n\t\t\t\t\tel.innerText = line.slice(2);\n\n\t\t\t\t\treturn el;\n\t\t\t\tcase '|':\n\t\t\t\t\tel.classList.add('item-content');\n\t\t\t\t\tel.innerHTML = parse(line.slice(2));\n\n\t\t\t\t\treturn el;\n\t\t\t}\n\t\t})\n\t\t.filter(Boolean);\n\n\ttimeline.innerText = '';\n\tlist.forEach((item) => {\n\t\tif (item) {\n\t\t\ttimeline.appendChild(item);\n\t\t}\n\t});\n\ttimeline.style.display ='block';\n\n\tconst elements = document.querySelectorAll('.nav');\n\n\telements.forEach((link) => {\n\t\tlink.addEventListener('click', (event) => {\n\t\t\tevent.preventDefault();\n\t\t\tanimatedLink(event.target);\n\t\t});\n\t});\n\n\tconst sleep = 10;\n\tlet index = -1\n\n\trender((time) => {\n\t\tconst next = Math.floor(time / sleep);\n\n\t\tif (next !== index) {\n\t\t\tfor (let i = index; i <= next; i++) {\n\t\t\t\tlist[list.length - 1 - i]?.style.display = 'block';\n\t\t\t}\n\n\t\t\tindex = next;\n\t\t}\n\n\t\tconst finish = list.length * sleep;\n\n\t\tif (time < finish) {\n\t\t\treturn true;\n\t\t}\n\n\t\ttimeline.classList.remove('loading');\n\n\t\treturn false;\n\t});\n};\n\ndocument.addEventListener('DOMContentLoaded', projectsMain);\n"]}