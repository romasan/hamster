var e=globalThis,t={},r={},n=e.parcelRequireb792;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var d=Error("Cannot find module '"+e+"'");throw d.code="MODULE_NOT_FOUND",d}).register=function(e,t){r[e]=t},e.parcelRequireb792=n),n.register;var o=n("42wvx");const d=window.localStorage.getItem("auth");if(d){let e=JSON.parse(d);document.querySelector("#input-auth-access-token").value=e.accessToken,document.querySelector("#input-auth-refresh-token").value=e.refreshToken,document.querySelector("#input-auth-expired-at").value=e.expiredAt,document.querySelector("#input-auth-x-app").value=e.app}(0,o.init)({xSdkApp:"test_app_qwerty",channelUrl:"romasan",onAuthorize:()=>{console.log("Нажата кнопка авторизации"),l("Нажата кнопка авторизации")},onTokenRefreshError:e=>{console.log("Ошибка обновления токена ",e),l("Ошибка обновления токена ",e)}}),(0,o.SdkEventEmitter).emit(o.ESdkControlsEvents.STREAM_URL_UPDATE,"foobarbuz-1"),(0,o.renderChat)("#vkplaylive-chat",{skin:"skin1",foo:!0}),document.querySelector("#button-stream-url").addEventListener("click",()=>{let e=document.querySelector("#input-stream-url").value;(0,o.setChannelUrl)(e)}),document.querySelector("#button-auth").addEventListener("click",()=>{let e=document.querySelector("#input-auth-access-token").value,t=document.querySelector("#input-auth-refresh-token").value,r=document.querySelector("#input-auth-expired-at").value,n=document.querySelector("#input-auth-x-app").value;window.localStorage.setItem("auth",JSON.stringify({accessToken:e,refreshToken:t,expiredAt:r,appId:n})),(0,o.setAuth)({accessToken:e,refreshToken:t,expiredAt:r,appId:n})});let i=0;const l=(e,t)=>{let r=document.createElement("div");r.innerText=`${i++}: ${e} ${t?JSON.stringify(t):""}`;let n=document.querySelector("#events");n.appendChild(r),n.scrollTo(0,n.scrollHeight)};document.querySelector("#button-start-video").addEventListener("click",()=>{(0,o.SdkEventEmitter).emit(o.ESdkControlsEvents.START_VIDEO)}),document.querySelector("#button-pause-video").addEventListener("click",()=>{(0,o.SdkEventEmitter).emit(o.ESdkControlsEvents.PAUSE_VIDEO,{timeCode:5545})}),document.querySelector("#button-like").addEventListener("click",()=>{(0,o.SdkEventEmitter).emit(o.ESdkControlsEvents.LIKE)}),document.querySelector("#button-seek-video").addEventListener("click",()=>{(0,o.SdkEventEmitter).emit(o.ESdkControlsEvents.SEEK_VIDEO,{timeCode:123})}),(0,o.SdkEventEmitter).addListener(o.ESdkControlsEvents.LIKES_COUNT,e=>{l("Количество лайков: ",e)}),(0,o.SdkEventEmitter).addListener(o.ESdkControlsEvents.VIEWERS_COUNT,e=>{l("Количество зрителей: ",e)}),(0,o.SdkEventEmitter).addListener(o.ESdkControlsEvents.STREAM_INFO_UPDATE,({title:e,category:t})=>{l("Изменились заголовок или категория стрима: ",`${e}, ${t.title} - ${t.id}`)}),(0,o.SdkEventEmitter).addListener(o.ESdkControlsEvents.START_VIDEO,e=>{l("Начался стрим: ",e)}),(0,o.SdkEventEmitter).addListener(o.ESdkControlsEvents.END_VIDEO,e=>{l("Закончился стрим: ",e)}),(0,o.SdkEventEmitter).addListener(o.ESdkControlsEvents.END_VIDEO,e=>{l("Рейд на канал: ",e)});
//# sourceMappingURL=index.efca8297.js.map
