{"version":3,"sources":["pages/test2/service-worker.js"],"names":["self","addEventListener","event","skipWaiting","e","options","body","data","text","icon","vibrate","dateOfArrival","Date","now","primaryKey","actions","action","title","waitUntil","registration","showNotification","eventAction","console","log","url","notification","close","clients","matchAll","type","then","windowClients","i","length","client","focus","openWindow"],"mappings":";AAAAA,KAAKC,iBAAiB,UAAYC,IACjCF,KAAKG,gBAGNH,KAAKC,iBAAiB,OAASG,IAC9B,MAEMC,EAAU,CACfC,KAHYF,EAAEG,KAAKC,QAAU,8BAI7BC,KAAM,uBACNC,QAAS,CAAC,IAAK,GAAI,KACnBH,KAAM,CACLI,cAAeC,KAAKC,MACpBC,WAAY,GAEbC,QAAS,CACR,CACCC,OAAQ,UACRC,MAAO,yBACPR,KAAM,wBAEP,CACCO,OAAQ,QACRC,MAAO,2BACPR,KAAM,sBAITL,EAAEc,UAAUlB,KAAKmB,aAAaC,iBAAiB,uCAAwCf,MAGxFL,KAAKC,iBAAiB,oBAAsBC,IAC3C,MAAMmB,EAAcnB,EAAMc,OAG1B,GAFAM,QAAQC,IAAI,4CAA6CF,MAErC,YAAhBA,EACH,OAGD,MAAMG,EAAM,4DACZtB,EAAMuB,aAAaC,QACnBxB,EAAMgB,UACLS,QAAQC,SAAS,CAAEC,KAAM,WAAYC,KAAMC,IAE1C,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAcE,OAAQD,IAAK,CAC9C,IAAIE,EAASH,EAAcC,GAE3B,GAAIE,EAAOV,MAAQA,GAAO,UAAWU,EACpC,OAAOA,EAAOC,QAIhB,GAAIR,QAAQS,WACX,OAAOT,QAAQS,WAAWZ","file":"service-worker.js","sourceRoot":"..","sourcesContent":["self.addEventListener('install', (event) => {\n\tself.skipWaiting();\n});\n\nself.addEventListener('push', (e) => {\n\tconst body = e.data.text() || 'Push message has no payload';\n\n\tconst options = {\n\t\tbody,\n\t\ticon: 'images/checkmark.png',\n\t\tvibrate: [100, 50, 100],\n\t\tdata: {\n\t\t\tdateOfArrival: Date.now(),\n\t\t\tprimaryKey: 1,\n\t\t},\n\t\tactions: [\n\t\t\t{\n\t\t\t\taction: 'explore',\n\t\t\t\ttitle: 'Explore this new world',\n\t\t\t\ticon: 'images/checkmark.png',\n\t\t\t},\n\t\t\t{\n\t\t\t\taction: 'close',\n\t\t\t\ttitle: \"I don't want any of this\",\n\t\t\t\ticon: 'images/xmark.png',\n\t\t\t},\n\t\t],\n\t};\n\te.waitUntil(self.registration.showNotification('Notification via Server and Push API', options));\n});\n\nself.addEventListener('notificationclick', (event) => {\n\tconst eventAction = event.action;\n\tconsole.log('message event fired! event action is:', `'${eventAction}'`);\n\n\tif (eventAction !== 'explore') {\n\t\treturn;\n\t}\n\n\tconst url = 'https://developer.mozilla.org/en-US/docs/Web/API/Push_API';\n\tevent.notification.close(); // Android needs explicit close.\n\tevent.waitUntil(\n\t\tclients.matchAll({ type: 'window' }).then((windowClients) => {\n\t\t\t// Check if there is already a window/tab open with the target URL\n\t\t\tfor (var i = 0; i < windowClients.length; i++) {\n\t\t\t\tvar client = windowClients[i];\n\t\t\t\t// If so, just focus it.\n\t\t\t\tif (client.url === url && 'focus' in client) {\n\t\t\t\t\treturn client.focus();\n\t\t\t\t}\n\t\t\t}\n\t\t\t// If not, then open the target URL in a new window/tab.\n\t\t\tif (clients.openWindow) {\n\t\t\t\treturn clients.openWindow(url);\n\t\t\t}\n\t\t})\n\t);\n});"]}